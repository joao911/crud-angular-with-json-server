<div class="container">
  <h2>Usu치rios do projeto futuro</h2>

  <hr />

  <form class="row" action="#">
    <div class="col-sm">
      <input
        type="text"
        title="Full Name"
        placeholder="Nome completo"
        class="form-control"
        [(ngModel)]="name"
        name="name"
      />
    </div>
    <div class="col-sm">
      <input
        type="text"
        title="Email"
        placeholder="Email"
        class="form-control"
        [(ngModel)]="email"
        name="email"
      />
    </div>
    <div class="col-sm">
      <input
        type="text"
        title="Company"
        placeholder="Company"
        class="form-control"
        [(ngModel)]="company"
        name="company"
      />
    </div>
    <div class="mt-3">
      <button
        class="btn btn-primary"
        type="submit"
        (click)="registerOrUpdateUser()"
      >
        {{ id ? "Atualizar usu치rio" : "Cadastrar usu치rio" }}
      </button>
    </div>
  </form>

  <table class="table">
    <thead>
      <tr>
        <th>id</th>
        <th>Name</th>
        <th>Email</th>
        <th>Company</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let user of users$ | async">
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.company }}</td>
        <td>
          <div>
            <button
              class="btn btn-primary mx-1"
              title="Editar usu치rio"
              (click)="preencherCampos(user)"
            >
              <i class="bi bi-pencil"></i>
            </button>

            <button
              class="btn btn-danger mx-1"
              title="Delete User"
              (click)="deleteUser(user.id!)"
            >
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
